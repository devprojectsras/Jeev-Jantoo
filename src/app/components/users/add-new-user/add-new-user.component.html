<form [formGroup]="userForm" (ngSubmit)="onSubmit()" class="card m-4 align-content-md-start">
    <div class="card-body">
        <div class="d-md-flex align-items-center justify-content-between mb-3">
            <div class="text-center text-md-start mb-2 mb-md-0">
                <h4>New user</h4>
            </div>
            <button type="button" class="btn col-md-3 col-12 btn-outline-primary" [routerLink]="['/manage-users']" >Manage Users</button>
        </div>

        <div class="row g-2">

            <div class="form-floating col-md-6 col-12 mb-3">
                <input type="text" class="form-control" id="firstname" formControlName="firstname"
                    placeholder="John Doe" required>
                <label for="firstname">FirstName <span class="text-danger">*</span></label>
                <div *ngIf="userForm.get('firstname')?.touched && userForm.get('firstname')?.invalid"
                    class="text-danger">
                    Name is required.
                </div>
            </div>

            <div class="form-floating col-md-6 col-12 mb-3">
                <input type="text" class="form-control" id="lastname" formControlName="lastname" placeholder="John Doe"
                    required>
                <label for="lastname">LastName <span class="text-danger">*</span></label>
                <div *ngIf="userForm.get('lastname')?.touched && userForm.get('lastname')?.invalid" class="text-danger">
                    Name is required.
                </div>
            </div>

            <div class="form-floating col-md-6 col-12 mb-3">
                <input type="text" class="form-control" id="email" formControlName="email" placeholder="John Doe"
                    required>
                <label for="email">Email <span class="text-danger">*</span></label>
                <div *ngIf="userForm.get('email')?.touched && userForm.get('email')?.invalid" class="text-danger">
                    Name is required.
                </div>
            </div>

            <div class="form-floating col-md-6 col-12 mb-3">
                <select class="form-select" id="gender" formControlName="gender" required>
                    <option value="" disabled>Select a gender</option>
                    <option value="Male">Male</option>
                    <option value="Female">Female</option>
                </select>
                <label for="gender">gender <span class="text-danger">*</span></label>
            </div>

            <div class="form-floating col-md-6 col-12 mb-3">
                <input type="text" class="form-control" id="phone" formControlName="phone" placeholder="John Doe"
                    required>
                <label for="phone">PhoneNo. <span class="text-danger">*</span></label>
                <div *ngIf="userForm.get('phone')?.touched && userForm.get('phone')?.invalid" class="text-danger">
                    PhoneNo is required.
                </div>
            </div>


            <div class="form-floating col-md-6 col-12 mb-3">
            <input type="text" class="form-control" id="Adhar" formControlName="Adhar" placeholder="John Doe" required>
            <label for="Adhar">AdharNo. <span class="text-danger">*</span></label>
            <div *ngIf="userForm.get('Adhar')?.touched && userForm.get('Adhar')?.invalid" class="text-danger">
                AdharNo is required.
            </div>
            </div>

            <div>
                <label class="form-floating col-md-6 col-12 mb-3" for="profilePicture">Profile Picture:</label>
                <input
                  type="file"
                  id="profilePicture"
                  (change)="onFileChange($event, 'profilePicture')"
                />
            </div>
            
            <div>
                <label class="form-floating col-md-6 col-12 mb-3" for="adharPicture">Aadhaar Picture:</label>
                <input
                  type="file"
                  id="adharPicture"
                  (change)="onFileChange($event, 'AdharPicture')"
                />
            </div>

            <div class="form-floating col-md-6 col-12 mb-3">
                <input type="text" class="form-control" id="area" formControlName="area" placeholder="Area/Landmark"
                    required>
                <label for="area">Area/Landmark <span class="text-danger">*</span></label>
                <div *ngIf="userForm.get('area')?.touched && userForm.get('area')?.invalid" class="text-danger">
                    Area is required.
                </div>
            </div>
            
            <div class="form-floating col-md-6 col-12 mb-3 ">
                <input type="text" class="form-control" id="pincode" formControlName="pincode" placeholder="Area/Landmark"
                    required>
                <label for="pincode">Pincode <span class="text-danger">*</span></label>
                <div *ngIf="userForm.get('pincode')?.touched && userForm.get('pincode')?.invalid" class="text-danger">
                    Pincode is required and must be a 6-digit number
                </div>
            </div>

            <div class="form-floating col-md-6 col-12 mb-3">
                <select class="form-select" id="city" formControlName="city" required>
                    <option value="" disabled>Select a city</option>
                    <option value="Bhopal">Bhopal</option>
                    <option value="Indore">Indore</option>
                    <option value="Jabalpur">Jabalpur</option>
                    <option value="Gwalior">Gwalior</option>
                </select>
                <label for="city">City <span class="text-danger">*</span></label>
                <div *ngIf="userForm.get('city')?.touched && userForm.get('city')?.invalid" class="text-danger">
                    City is required.
                </div>
            </div>

            <div class="form-floating col-md-6 col-12 mb-3">
                <select class="form-select" id="state" formControlName="state" required>
                    <option value="" disabled>Select a state</option>
                    <option value="Madhya Pradesh">Madhya Pradesh</option>
                </select>
                <label for="state">State <span class="text-danger">*</span></label>
                <div *ngIf="userForm.get('state')?.touched && userForm.get('state')?.invalid" class="text-danger">
                    State is required.
                </div>
            </div>


        <button type="submit" class="btn col-md-3 col-12 btn-primary" [disabled]="userForm.invalid">
            Submit
        </button>
    </div>
    </div>
    
</form>